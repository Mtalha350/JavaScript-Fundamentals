# ğŸ“¦ JavaScript Promises & Fetch API â€“ Notes

## ğŸ”„ Recap: Callback Hell
- Callback Hell occurs when callbacks are nested inside callbacks.
- Leads to unreadable, unmaintainable, and error-prone code.

---

## ğŸŒ Replacing XMLHttpRequest with Fetch API

### âœ… Old way:
```js
const request = new XMLHttpRequest();
request.open('GET', 'https://restcountries.com/v3.1/name/portugal');
request.send();
````

### âœ… New way with Fetch:

```js
const request = fetch('https://restcountries.com/v3.1/name/portugal');
console.log(request); // Logs a Promise
```

* `fetch()` returns a **Promise** immediately.
* The request starts asynchronously in the background.

---

## â“ What is a Promise?

### ğŸ§  Definition:

> A Promise is an object representing the **future result** of an asynchronous operation.

### ğŸ’¬ Alternate explanations:

* A container for a **future value**.
* A placeholder for a **value that will arrive later**.
* Like a **lottery ticket**: might give you money (fulfilled) or nothing (rejected).

---

## ğŸ“ˆ Promise Lifecycle (States)

| State     | Description                                            |
| --------- | ------------------------------------------------------ |
| Pending   | Initial state, before result is available              |
| Fulfilled | Operation completed successfully â€“ result is available |
| Rejected  | Operation failed â€“ error occurred                      |

* Once a promise is **settled**, it stays that way (immutable).
* You can only transition from **pending â†’ fulfilled/rejected**.

---

## ğŸ¯ Benefits of Promises

1. Avoids messy nested callbacks.
2. Promises can be **chained**.
3. Makes async code easier to **read, maintain, and debug**.
4. Used in many modern APIs (like `fetch()`).

---

## ğŸ“¥ Consuming vs. Building Promises

### âœ… Consuming

* Most common use case.
* Example:

  ```js
  fetch('url')
    .then(response => response.json())
    .then(data => console.log(data))
    .catch(err => console.error(err));
  ```

### ğŸ› ï¸ Building

* Creating your own Promise.
* More advanced, but sometimes necessary.
* Will learn later.

---

## ğŸŸï¸ Lottery Ticket Analogy

* Buying a lottery ticket = creating a Promise.
* Winning = fulfilled promise.
* Losing = rejected promise.
* Draw = async operation happening in the background.

---

## ğŸ“ Summary

| Concept           | Description                          |
| ----------------- | ------------------------------------ |
| `fetch()`         | Modern way to make AJAX calls        |
| Promise           | Future container for async result    |
| States            | `pending`, `fulfilled`, `rejected`   |
| Benefits          | Cleaner code, avoids callback hell   |
| Consume a Promise | Use `.then()` and `.catch()`         |
| Build a Promise   | Manually create with `new Promise()` |

---
